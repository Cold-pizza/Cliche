(this["webpackJsonpcliche-prototype"]=this["webpackJsonpcliche-prototype"]||[]).push([[0],{56:function(e,t,c){},58:function(e,t,c){},79:function(e,t,c){},88:function(e,t,c){},90:function(e,t,c){},91:function(e,t,c){},92:function(e,t,c){},93:function(e,t,c){},94:function(e,t,c){"use strict";c.r(t);var n,i=c(1),s=c.n(i),a=c(39),l=c.n(a),o=(c(56),c(19)),u=c.n(o),r=c(28),j=c(22),d=c(20),b=c(5),m=(c(58),c(4)),h=c(40),p=c.n(h),f=(c(77),c(78),p.a.initializeApp({apiKey:"AIzaSyDJMIeMggOEkzvvmzFp4FffCYXRd5_EXnY",authDomain:"cilche-prototype.firebaseapp.com",projectId:"cilche-prototype",storageBucket:"cilche-prototype.appspot.com",messagingSenderId:"529483602235",appId:"1:529483602235:web:bdc665b2d901d9b5b6ff1e"})),O=(c(79),c(0)),x=function(e){var t=e.account.email,c=e.account.password,n=Object(m.e)();return Object(O.jsxs)("div",{id:"sign-up",children:[Object(O.jsx)("h1",{children:"\ud68c\uc6d0\uac00\uc785"}),Object(O.jsxs)("form",{children:[Object(O.jsx)("input",{type:"text",name:"email",value:t,onChange:e.onChange,id:"id",placeholder:"Email"}),Object(O.jsx)("input",{type:"text",name:"password",value:c,onChange:e.onChange,id:"password",placeholder:"PASSWORD"}),Object(O.jsx)("button",{onClick:function(){e.createUser(t,c),alert("\uac00\uc785 \uc131\uacf5"),n.push("/")},className:"signup-btn",children:"\uac00\uc785\ud558\uae30"}),Object(O.jsx)("button",{onClick:function(){n.replace("/")},className:"cancel-btn",children:"\ucde8\uc18c"})]}),Object(O.jsx)("div",{className:"other-signup"})]})},g=c(45),v=(c(88),c(11)),N=c(46),y=Object(N.a)(v.b)(n||(n=Object(g.a)(["\n  test-decoration: none;\n  color: black;\n"]))),C=function(e){var t=e.account.email,c=e.account.password;return Object(O.jsx)("div",{id:"login",children:Object(O.jsxs)("section",{className:"login-form",children:[Object(O.jsx)("h1",{children:"Cliche"}),Object(O.jsx)("input",{type:"text",name:"email",value:t,onChange:e.onChange,id:"id",placeholder:"ID or Email"}),Object(O.jsx)("input",{type:"password",name:"password",value:c,onChange:e.onChange,id:"password",placeholder:"Password"}),Object(O.jsx)("button",{onClick:function(){e.login(t,c)},className:"login-btn",children:"\ub85c\uadf8\uc778"}),Object(O.jsx)(y,{to:"/signup",children:Object(O.jsx)("button",{className:"signup-btn",children:"\ud68c\uc6d0\uac00\uc785"})})]})})},k=(c(90),function(e){return Object(i.useEffect)((function(){0!==e.music.length&&(e.source.current.src=e.music[e.nextNum].url)})),Object(O.jsxs)("div",{id:"main",children:[Object(O.jsxs)("section",{className:"display-music",children:[Object(O.jsx)("div",{className:"picture",children:Object(O.jsx)("img",{src:e.musicImg[e.nextNum],alt:e.musicImg[e.nextNum]})}),Object(O.jsx)("span",{className:"title",children:0===e.music.length?null:e.music[e.nextNum].title}),Object(O.jsx)("span",{className:"singer",children:0===e.music.length?null:e.music[e.nextNum].singer})]}),Object(O.jsxs)("div",{className:"time-line",children:[Object(O.jsx)("p",{className:"current-time",children:"0"}),Object(O.jsx)("p",{className:"duration",children:"0"})]}),Object(O.jsx)("audio",{preload:"auto",controls:!0,className:"music-player",ref:e.player,children:Object(O.jsx)("source",{ref:e.source,src:"",type:"audio/mp3"})})]})}),w=(c(91),function(e){var t=Object(m.e)(),c=Object(i.useState)(!1),n=Object(b.a)(c,2),s=n[0],a=n[1];return Object(O.jsxs)("div",{id:"setting",children:[Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{onClick:function(){t.push("/setting/musiclist")},children:"\uace1\uc815\ubcf4"}),Object(O.jsx)("li",{onClick:function(){a(!s)},children:"\ub85c\uadf8\uc544\uc6c3"})]}),!0===s?Object(O.jsxs)("div",{className:"logout-form",children:[Object(O.jsx)("p",{children:"\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),Object(O.jsxs)("div",{className:"btns",children:[Object(O.jsx)("button",{onClick:function(){e.logout()},className:"yes",children:"Yes"}),Object(O.jsx)("button",{onClick:function(){a(!s)},className:"no",children:"No"})]})]}):null]})}),M=(c(92),function(e){var t=Object(i.useState)(!0),c=Object(b.a)(t,2),n=c[0],s=c[1];return Object(O.jsxs)("div",{id:"music-list",children:[e.music.map((function(t,c){var n=t.title,i=t.singer,s=t.id;return Object(O.jsxs)("section",{className:"item",children:[Object(O.jsxs)("div",{className:"sing-info",children:[Object(O.jsx)("div",{className:"image",children:Object(O.jsx)("img",{src:e.musicImg[c],alt:e.musicImg[c]})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:n}),Object(O.jsx)("span",{children:i})]})]}),Object(O.jsx)("i",{className:"fas fa-minus remove-btn",onClick:function(){e.removeModal(s)}})]})})),n?Object(O.jsxs)("div",{className:"panel",children:[Object(O.jsx)("i",{className:"fas fa-times x",onClick:function(){s(!n)}}),Object(O.jsxs)("p",{children:["\uc81c\ubaa9\uc744 ",Object(O.jsx)("span",{children:'"\uac00\uc218\uc774\ub984"-"\ub178\ub798\uc81c\ubaa9"'}),"\uc73c\ub85c\ub41c \ud30c\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud574\uc8fc\uc138\uc694!"]})]}):null,null!==e.musicFileName?Object(O.jsxs)("section",{className:"file-name",children:[Object(O.jsx)("p",{children:"\uc120\ud0dd\ud55c \ud30c\uc77c\uc774\ub984"}),Object(O.jsx)("span",{children:e.musicFileName})]}):null,e.music.map((function(t){var c=t.active,n=t.id,i=t.title;return c?Object(O.jsxs)("div",{className:"remove-music",children:[Object(O.jsx)("p",{children:"\uc9c0\uc6b0\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),Object(O.jsx)("span",{children:i}),Object(O.jsxs)("div",{className:"btns",children:[Object(O.jsx)("button",{onClick:function(){e.removeMusic(n),e.removeModal(n)},children:"Yes"}),Object(O.jsx)("button",{onClick:function(){e.removeModal(n)},children:"No"})]})]}):null})),Object(O.jsx)("label",{id:"label",htmlFor:"music-file",children:Object(O.jsx)("i",{className:"fas fa-plus plus-music"})}),Object(O.jsx)("i",{style:{display:e.on?"block":"none"},className:"fas fa-check plus-music",onClick:function(){e.upLoadMusic()}}),Object(O.jsx)("input",{type:"file",ref:e.fileRef,onChange:e.onChangeMusic,id:"music-file"})]})}),S=(c(93),function(e){var t=Object(i.useState)(!1),c=Object(b.a)(t,2),n=c[0],s=c[1];return Object(O.jsxs)("div",{id:"add-music",children:[e.music.map((function(e){return Object(O.jsxs)("section",{className:"item",children:[Object(O.jsxs)("div",{className:"music-info",children:[Object(O.jsx)("div",{className:"image"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:e.title}),Object(O.jsx)("span",{children:e.singer})]})]}),Object(O.jsx)("i",{style:{color:!0===n?"#698eff":"rgba(0, 0, 0, 0.5)"},className:"fas fa-check check-box",onClick:function(){s(!n)}})]})})),Object(O.jsx)("i",{className:"fas fa-check plus-music"})]})});var I=function(e){var t=Object(m.e)(),c=Object(i.useState)([{id:0,title:"",site:"/main"},{id:1,title:"\uc124\uc815",site:"/setting"},{id:2,title:"\ubc84\uc804\uc815\ubcf4",site:"/setting/version"},{id:3,title:"\uc568\ubc94",site:"/setting/playlist"},{id:4,title:"\uc568\ubc94\ud3b8\uc9d1",site:"/setting/playlist/:id"},{id:5,title:"\uace1 \ub9ac\uc2a4\ud2b8",site:"/setting/musiclist"},{id:6,title:"\uc568\ubc94\ub178\ub798\ucd94\uac00",site:"/setting/addmusic/:id"},{id:7,title:"\uc568\ubc94\ucd94\uac00",site:"/setting/addalbum"}]),n=Object(b.a)(c,2),s=n[0];n[1];return Object(O.jsx)("div",{id:"nav",children:s.map((function(c){return Object(O.jsxs)(m.a,{exact:!0,path:c.site,children:[Object(O.jsx)("div",{style:{width:"20px"},children:"/main"===c.site?null:Object(O.jsx)("i",{onClick:function(){"/setting/musiclist"===c.site&&e.fileInitial(),t.goBack()},className:"fas fa-chevron-left"})}),Object(O.jsx)("span",{children:"Cliche"}),Object(O.jsx)("div",{style:{width:"20px"},children:"/main"===c.site?Object(O.jsx)("i",{onClick:function(){t.push("/setting")},className:"fas fa-cog edits"}):"/setting/playlist/:id"===c.site?Object(O.jsx)("p",{className:"edits",children:"\uc644\ub8cc"}):null})]})}))})},z=function(e){return Object(O.jsxs)("div",{id:"actions",children:[Object(O.jsx)("section",{className:"up-btn",children:Object(O.jsx)("i",{onClick:function(){e.volControl("up")},className:"fas fa-chevron-up"})}),Object(O.jsxs)("section",{className:"middle-btn",children:[Object(O.jsx)("i",{onClick:function(){e.changeMusic.beforeMusic()},className:"fas fa-chevron-left"}),e.play?Object(O.jsx)("i",{onClick:function(){e.musicControl(),e.pauseTheMusic()},className:"fas fa-pause play-btn pause"}):Object(O.jsx)("i",{onClick:function(){e.musicControl(),e.playTheMusic()},className:"fas fa-play play-btn play"}),Object(O.jsx)("i",{onClick:function(){e.changeMusic.nextMusic()},className:"fas fa-chevron-right"})]}),Object(O.jsx)("section",{className:"bottom-btn",children:Object(O.jsx)("i",{onClick:function(){e.volControl("down")},className:"fas fa-chevron-down"})})]})},E=Object(m.f)((function(){var e=Object(m.e)(),t=Object(i.useState)({email:"",password:""}),c=Object(b.a)(t,2),n=c[0],s=c[1],a=function(e){s(Object(d.a)(Object(d.a)({},n),{},Object(j.a)({},e.target.name,e.target.value)))},l=Object(i.useState)(["https://github.com/cold-pizza/cliche/blob/master/public/images/dive.jpg?raw=true","https://github.com/cold-pizza/cliche/blob/master/public/images/youth!.jpg?raw=true","https://github.com/cold-pizza/cliche/blob/master/public/images/youth!.jpg?raw=true","https://github.com/cold-pizza/cliche/blob/master/public/images/humidifier.jpg?raw=true"]),o=Object(b.a)(l,2),h=o[0],p=(o[1],Object(i.useState)([])),g=Object(b.a)(p,2),v=g[0],N=g[1],y=Object(i.useState)(0),E=Object(b.a)(y,2),R=E[0],A=(E[1],Object(i.useState)(0)),D=Object(b.a)(A,2),F=D[0],L=D[1],P={nextMusic:function(){if(!(F<v.length-1))return F;L(F+1),T.current.load()},beforeMusic:function(){if(!(F>0))return F;L(F-1),T.current.load()}},T=Object(i.useRef)(),U=Object(i.useRef)(),Y=Object(i.useState)(!1),B=Object(b.a)(Y,2),J=B[0],W=B[1],X=Object(i.useState)(!1),_=Object(b.a)(X,2),K=_[0],q=_[1],G=Object(i.useState)(null),H=Object(b.a)(G,2),Q=H[0],V=H[1],Z=f.storage(),$=Object(i.useRef)(null),ee=Object(i.useState)(""),te=Object(b.a)(ee,2),ce=te[0],ne=te[1],ie=Object(i.useState)(0),se=Object(b.a)(ie,2),ae=se[0],le=se[1],oe=function(){ne(null),K&&q(!K)};return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(I,{musicImg:h,player:T,fileInitial:oe,source:U,num:R,nextNum:F,music:v}),Object(O.jsx)(m.a,{exact:!0,path:"/",children:Object(O.jsx)(C,{login:function(t,c){f.auth().signInWithEmailAndPassword(t,c).then(function(){var t=Object(r.a)(u.a.mark((function t(c){var n,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(){return(i=Object(r.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,f.firestore().collection("playList").get().then((function(e){e.forEach((function(e){return t.push(e.data())}))}));case 3:return e.next=5,N(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=function(){return i.apply(this,arguments)},console.log(c),s({email:"",password:""}),t.next=6,n();case 6:return console.log("\ub85c\uadf8\uc778\uc131\uacf5!"),t.next=9,e.push("/main");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){console.log("\ub2e4\uc2dc \uc785\ub825\ud574\uc8fc\uc138\uc694..")}))},account:n,onChange:a})}),Object(O.jsx)(m.a,{path:"/signup",children:Object(O.jsx)(x,{createUser:function(e,t){f.auth().createUserWithEmailAndPassword(e,t).then((function(){s({email:"",password:""})})).catch((function(){alert("\uac00\uc785 \uc2e4\ud328")}))},account:n,onChange:a})}),Object(O.jsxs)(m.a,{path:"/main",children:[Object(O.jsx)(k,{fileInitial:oe,musicImg:h,source:U,player:T,num:R,nextNum:F,music:v}),Object(O.jsx)(z,{play:J,musicControl:function(){W(!J)},playTheMusic:function(){T.current.play()},pauseTheMusic:function(){T.current.pause()},changeMusic:P,volControl:function(e){if("up"===e&&T.current.volume<1)T.current.volume+=.1,console.log(T.current.volume);else{if(!("down"===e&&T.current.volume>.11))return alert("\ucd5c\ub300 \uc785\ub2c8\ub2e4."),!1;T.current.volume-=.1,console.log(T.current.volume)}},keyDownMusic:function(){"Enter"===window.event.key&&(W(!J),!0===J&&T.current.play(),!1===J&&T.current.pause())}})]}),Object(O.jsx)(m.a,{exact:!0,path:"/setting",children:Object(O.jsx)(w,{logout:function(){f.auth().signOut().then((function(t){console.log(t),console.log("\ub85c\uadf8\uc544\uc6c3 \ud558\uc168\uc2b5\ub2c8\ub2e4."),q(!K),e.replace("/")}))}})}),Object(O.jsx)(m.a,{path:"/setting/addmusic/:id",children:Object(O.jsx)(S,{music:v})}),Object(O.jsx)(m.a,{path:"/setting/musiclist",children:Object(O.jsx)(M,{fileRef:$,onChangeMusic:function(e){if(V(e.target.files[0]),q(!K),null!==$){var t=$.current.value.split("\\")[2];ne(t)}},upLoadMusic:function(){var e=Z.ref().child("music/"+Q.name).put(Q);e.on("state_changed",(function(e){console.log("\ub85c\ub529\uc911..",e)}),(function(e){console.log("\uc2e4\ud328\uc0ac\uc720: ",e)}),(function(){e.snapshot.ref.getDownloadURL().then((function(e){console.log("\uc5c5\ub85c\ub4dc \uc131\uacf5!"),ne(null),q(!K);var t=Q.name.split("-")[1];f.firestore().collection("playList").doc(Q.name).set({title:t.split(".")[0],singer:Q.name.split("-")[0],url:e,active:!1,id:ae})})),le(ae+1)}))},on:K,music:v,removeModal:function(e){N(v.map((function(t){return t.id===e?Object(d.a)(Object(d.a)({},t),{},{active:!t.active}):t})))},removeMusic:function(e){var t=f.firestore().collection("playList"),c=v[e].singer+"-"+v[e].title;v[e].active&&t.doc(c).delete().then((function(){console.log("success delete!")})).catch((function(){console.log("something wrong")}))},musicFileName:ce,musicImg:h})})]})}));l.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(v.a,{basename:"cliche",children:Object(O.jsx)(E,{})})}),document.getElementById("root"))}},[[94,1,2]]]);
//# sourceMappingURL=main.a9525b5b.chunk.js.map